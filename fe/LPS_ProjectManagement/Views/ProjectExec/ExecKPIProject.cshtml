@model IEnumerable<LPS_ProjectManagement.Models.ProyekModels.ExecutionModel>

@{
    ViewBag.Title = "Project Execution KPI Project";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .circle {
        border-radius: 50%;
        width: 5px;
        height: 5px;
        margin: auto;
        padding: 5px;
        /* width and height can be anything, as long as they're equal */
    }

    thead, th, tbody, td {
        text-align: center;
    }
</style>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <section class="box">
        <header class="panel_header">
            <h2 class="title pull-left">Daftar Project Execution</h2>
            <div class="actions panel_actions pull-right">
                <i class="box_toggle material-icons">expand_more</i>
                <i class="box_close material-icons">close</i>
            </div>
        </header>
        <div class="content-body padding-top-45">
            @*<div class="row padding-top-10">

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="col-md-1"><i class="material-icons pull-right" style="color:blue">brightness_1</i></div>
                    <div class="col-md-2"><label>Pencapaian di atas target <br />( >= 110% )</label></div>
                    <div class="col-md-1"><i class="material-icons pull-right" style="color:green">brightness_1</i></div>
                    <div class="col-md-2"><label>Pencapaian sesuai target <br />( >= 100% dan < 110%)</label></div>
                    <div class="col-md-1"><i class="material-icons pull-right" style="color:yellow">brightness_1 </i></div>
                    <div class="col-md-2"><label>Pencapaian sedikit di bawah target <br />(  >= 85% dan < 100% )</label></div>
                    <div class="col-md-1"><i class="material-icons pull-right" style="color:red">brightness_1 </i></div>
                    <div class="col-md-2"><label>Pencapaian jauh di bawah target <br />( < 85% )</label></div>
                </div>

            </div>*@

            <div class="row padding-top-10">
                <div class="col-md-12 col-sm-12 col-xs-12 padding-left-0 padding-right-0">
                    @*<div class="row">
                            <div class="col-md-2 pull-right">
                                <div class="input-group transparent pull-right">
                                    <span class="input-group-addon">
                                        <span class="arrow"></span>
                                        <i class="fa fa-search"></i>
                                    </span>
                                    <input type="text" class="form-control" placeholder="Cari" id="txtSearch" onkeyup="searchfunction()">
                                </div>
                            </div>

                        </div>*@

                    <table id="tblListProjectCharter" class="display" style="width:100%">
                        <thead>
                            <tr>
                                <th style="width:1%;">
                                    No
                                </th>
                                <th style="width:8%;">
                                    Kode Proyek
                                </th>
                                <th style="width:30%;">
                                    Nama Proyek
                                </th>
                                <th style="width:8%;">
                                    Jenis Proyek
                                </th>

                                <th style="width:8%;">
                                    Tanggal Mulai
                                </th>
                                <th style="width:8%;">
                                    Tanggal Selesai
                                </th>
                                <th style="width:8%;">
                                    Pencapaian
                                </th>
                                <th style="width:3%;">
                                    KPI
                                </th>

                                <th style="width:8%;">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{int RowNo = 0; }
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td style="width:10px;">
                                        @{RowNo++;} @RowNo
                                    </td>
                                    <td style="text-align:right;">
                                        @Html.DisplayFor(modelItem => item.Realisasi)
                                    </td>
                                    <td style="text-align: left !important;">
                                        @Html.DisplayFor(modelItem => item.NamaProyek)
                                    </td>

                                    <td>
                                        @if (item.isTransformasi == 1)
                                        {
                                            <span>Transformasi</span>
                                        }
                                        else
                                        {
                                            <span>Non Transformasi</span>
                                        }
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TanggalMulaiProyek)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TanggalTutupProyek)
                                    </td>


                                    <td>
                                        @Html.DisplayFor(modelItem => item.PersentaseKomplit) %
                                    </td>

                                    <td>
                                        @Html.Raw(item.Stasus)
                                    </td>

                                    <td>
                                        @*<a href="@Url.Action("ProjectExecutionCreate", "Proyek", new {ProjectHeaderID = item.ProyekPK, IsTransformasi = item.isTransformasi})" class="btn btn-warning tooltipcustom">
                                                <i class="fa fa-edit"></i>
                                                <span class="tooltiptext">Detil</span>
                                            </a>*@
                                        <a href="@Url.Action("ExecKPIProjectDetil", "ProjectExec", new {ProjectHeaderID = item.ProyekPK, IsTransformasi = item.isTransformasi})" class="btn btn-warning tooltipcustom">
                                            <i class="fa fa-edit"></i>
                                            <span class="tooltiptext">Detil</span>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    $(document).ready(function () {
        $('#tblListProjectCharter').DataTable({
            "bLengthChange": false,
            searching: true,
            info: false
        });
    });

    function searchfunction() {
        var input, filter, table, tr, td, i;
        input = document.getElementById("txtSearch");
        filter = input.value.toUpperCase();
        table = document.getElementById("tblListProjectCharter");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function AddNew() {
        debugger;
        $.ajax({
            type: "get",
            url: '@Url.Action("ProjectCharterCreate", "Form")'
        });
    }
</script>






